<!-- https://www.chartjs.org/docs/latest/getting-started/index -->

<div>
  <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // ?t=line
  // &i=0.0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.0,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.0,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4.0,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5.0,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6.0,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7.0,7.1,7.2,7.3,7.4,7.5,7.6,7.7,7.8,7.9,8.0,8.1,8.2,8.3,8.4,8.5,8.6,8.7,8.8,8.9,9.0,9.1,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9,10.0
  // &l=test
  // &c=ff6384
  // &v=0.0,1.355,2.4399999999999995,3.2849999999999997,3.92,4.375,4.68,4.865,4.96,4.995,5.0,5.005,5.04,5.135,5.32,5.624999999999999,6.079999999999999,6.715,7.559999999999999,8.645,10.0,10.0725,10.28,10.6075,11.04,11.5625,12.16,12.8175,13.520000000000001,14.252499999999998,14.999999999999998,15.747499999999999,16.48,17.182499999999997,17.84,18.437499999999996,18.959999999999997,19.392500000000002,19.720000000000002,19.927500000000002,20.0,21.889159611653547,23.038475772933676,23.786390635319037,24.28070808754402,24.602716045546693,24.803693401304525,24.919326746198738,24.976524266743944,24.997096387780402,25.0,25.002903612219598,25.023475733256056,25.08067325380126,25.196306598695475,25.397283954453307,25.71929191245598,26.213609364680956,26.961524227066313,28.110840388346432,30.0,30.013847408112643,30.059243939036328,30.143579305129546,30.277380546199858,30.476438030608765,30.766120515489874,31.19126051787663,31.84284394271563,32.94547467884305,34.999999999999986,37.05452532115693,38.15715605728437,38.80873948212337,39.23387948451012,39.52356196939124,39.722619453800135,39.85642069487046,39.940756060963665,39.986152591887354,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,50.0,45.00000000000005,39.99999999999993,34.999999999999986,30.00000000000009,25.00000000000003,20.000000000000025,15.000000000000021,9.99999999999995,5.000000000000007,0.0

  const params = new URLSearchParams(location.search);

  const type = params.getAll("t");
  const indexes = params.get("i").split(",");
  console.info("indexes: ", indexes);

  const labelArr = params.getAll("l");
  const colorArr = params.getAll("c");
  const valuesArr = params.getAll("v");

  const datasets = valuesArr
    .map((values) => values.split(","))
    .map((values, i) => {
      const label = labelArr[i];
      const color = "#" + colorArr[i];
      console.info(`data ${i}`, label, color, values);

      return {
        label: label,
        backgroundColor: color,
        borderColor: color,
        data: values,
      };
    });

  const config = {
    type: type,
    data: {
      labels: indexes,
      datasets: datasets,
    },
    options: {},
  };
  const myChart = new Chart(document.getElementById("myChart"), config);
</script>
